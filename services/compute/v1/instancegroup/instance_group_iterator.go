// Code generated by sdkgen-v2. DO NOT EDIT.
package instancegroupsdk

import (
	"context"

	access "github.com/yandex-cloud/go-genproto/yandex/cloud/access"
	instancegroup "github.com/yandex-cloud/go-genproto/yandex/cloud/compute/v1/instancegroup"
	operation "github.com/yandex-cloud/go-genproto/yandex/cloud/operation"
	"github.com/yandex-cloud/go-sdk/v2/pkg/iterator"
	"google.golang.org/grpc"
)

type InstanceGroupClientIterator interface {
	Iterator(context.Context, *instancegroup.ListInstanceGroupsRequest, ...grpc.CallOption) *iterator.Iterator[*instancegroup.ListInstanceGroupsRequest, *instancegroup.InstanceGroup]
	InstancesIterator(context.Context, *instancegroup.ListInstanceGroupInstancesRequest, ...grpc.CallOption) *iterator.Iterator[*instancegroup.ListInstanceGroupInstancesRequest, *instancegroup.ManagedInstance]
	OperationsIterator(context.Context, *instancegroup.ListInstanceGroupOperationsRequest, ...grpc.CallOption) *iterator.Iterator[*instancegroup.ListInstanceGroupOperationsRequest, *operation.Operation]
	LogRecordsIterator(context.Context, *instancegroup.ListInstanceGroupLogRecordsRequest, ...grpc.CallOption) *iterator.Iterator[*instancegroup.ListInstanceGroupLogRecordsRequest, *instancegroup.LogRecord]
	AccessBindingsIterator(context.Context, *access.ListAccessBindingsRequest, ...grpc.CallOption) *iterator.Iterator[*access.ListAccessBindingsRequest, *access.AccessBinding]
}

type instanceGroupServiceListInternal struct {
	*instancegroup.ListInstanceGroupsResponse
}

func (r instanceGroupServiceListInternal) Items() []*instancegroup.InstanceGroup {
	return r.ListInstanceGroupsResponse.InstanceGroups
}

func (c instanceGroupClient) Iterator(ctx context.Context, req *instancegroup.ListInstanceGroupsRequest, opts ...grpc.CallOption) *iterator.Iterator[*instancegroup.ListInstanceGroupsRequest, *instancegroup.InstanceGroup] {
	return iterator.NewIterator[*instancegroup.ListInstanceGroupsRequest, *instancegroup.InstanceGroup](ctx, req,
		func(ctx context.Context, req *instancegroup.ListInstanceGroupsRequest, opts ...grpc.CallOption) (iterator.PageResponse[*instancegroup.InstanceGroup], error) {
			resp, err := c.List(ctx, req, opts...)
			if err != nil {
				return nil, err
			}
			return instanceGroupServiceListInternal{resp}, nil
		})
}

type instanceGroupServiceListInstancesInternal struct {
	*instancegroup.ListInstanceGroupInstancesResponse
}

func (r instanceGroupServiceListInstancesInternal) Items() []*instancegroup.ManagedInstance {
	return r.ListInstanceGroupInstancesResponse.Instances
}

func (c instanceGroupClient) InstancesIterator(ctx context.Context, req *instancegroup.ListInstanceGroupInstancesRequest, opts ...grpc.CallOption) *iterator.Iterator[*instancegroup.ListInstanceGroupInstancesRequest, *instancegroup.ManagedInstance] {
	return iterator.NewIterator[*instancegroup.ListInstanceGroupInstancesRequest, *instancegroup.ManagedInstance](ctx, req,
		func(ctx context.Context, req *instancegroup.ListInstanceGroupInstancesRequest, opts ...grpc.CallOption) (iterator.PageResponse[*instancegroup.ManagedInstance], error) {
			resp, err := c.ListInstances(ctx, req, opts...)
			if err != nil {
				return nil, err
			}
			return instanceGroupServiceListInstancesInternal{resp}, nil
		})
}

type instanceGroupServiceListOperationsInternal struct {
	*instancegroup.ListInstanceGroupOperationsResponse
}

func (r instanceGroupServiceListOperationsInternal) Items() []*operation.Operation {
	return r.ListInstanceGroupOperationsResponse.Operations
}

func (c instanceGroupClient) OperationsIterator(ctx context.Context, req *instancegroup.ListInstanceGroupOperationsRequest, opts ...grpc.CallOption) *iterator.Iterator[*instancegroup.ListInstanceGroupOperationsRequest, *operation.Operation] {
	return iterator.NewIterator[*instancegroup.ListInstanceGroupOperationsRequest, *operation.Operation](ctx, req,
		func(ctx context.Context, req *instancegroup.ListInstanceGroupOperationsRequest, opts ...grpc.CallOption) (iterator.PageResponse[*operation.Operation], error) {
			resp, err := c.ListOperations(ctx, req, opts...)
			if err != nil {
				return nil, err
			}
			return instanceGroupServiceListOperationsInternal{resp}, nil
		})
}

type instanceGroupServiceListLogRecordsInternal struct {
	*instancegroup.ListInstanceGroupLogRecordsResponse
}

func (r instanceGroupServiceListLogRecordsInternal) Items() []*instancegroup.LogRecord {
	return r.ListInstanceGroupLogRecordsResponse.LogRecords
}

func (c instanceGroupClient) LogRecordsIterator(ctx context.Context, req *instancegroup.ListInstanceGroupLogRecordsRequest, opts ...grpc.CallOption) *iterator.Iterator[*instancegroup.ListInstanceGroupLogRecordsRequest, *instancegroup.LogRecord] {
	return iterator.NewIterator[*instancegroup.ListInstanceGroupLogRecordsRequest, *instancegroup.LogRecord](ctx, req,
		func(ctx context.Context, req *instancegroup.ListInstanceGroupLogRecordsRequest, opts ...grpc.CallOption) (iterator.PageResponse[*instancegroup.LogRecord], error) {
			resp, err := c.ListLogRecords(ctx, req, opts...)
			if err != nil {
				return nil, err
			}
			return instanceGroupServiceListLogRecordsInternal{resp}, nil
		})
}

type instanceGroupServiceListAccessBindingsInternal struct {
	*access.ListAccessBindingsResponse
}

func (r instanceGroupServiceListAccessBindingsInternal) Items() []*access.AccessBinding {
	return r.ListAccessBindingsResponse.AccessBindings
}

func (c instanceGroupClient) AccessBindingsIterator(ctx context.Context, req *access.ListAccessBindingsRequest, opts ...grpc.CallOption) *iterator.Iterator[*access.ListAccessBindingsRequest, *access.AccessBinding] {
	return iterator.NewIterator[*access.ListAccessBindingsRequest, *access.AccessBinding](ctx, req,
		func(ctx context.Context, req *access.ListAccessBindingsRequest, opts ...grpc.CallOption) (iterator.PageResponse[*access.AccessBinding], error) {
			resp, err := c.ListAccessBindings(ctx, req, opts...)
			if err != nil {
				return nil, err
			}
			return instanceGroupServiceListAccessBindingsInternal{resp}, nil
		})
}
