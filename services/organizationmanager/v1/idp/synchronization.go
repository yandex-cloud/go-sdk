// Code generated by sdkgen-v2. DO NOT EDIT.
package idpsdk

import (
	"context"

	operation "github.com/yandex-cloud/go-genproto/yandex/cloud/operation"
	idp "github.com/yandex-cloud/go-genproto/yandex/cloud/organizationmanager/v1/idp"
	sdkop "github.com/yandex-cloud/go-sdk/v2/pkg/operation"
	"github.com/yandex-cloud/go-sdk/v2/pkg/transport"
	"google.golang.org/grpc"
	"google.golang.org/protobuf/reflect/protoreflect"
	emptypb "google.golang.org/protobuf/types/known/emptypb"
)

// SynchronizationClient provides methods for managing Synchronization resources of Yandex.Cloud Idp.
type SynchronizationClient interface {
	SynchronizationClientIterator
	SetReplicationToken(context.Context, *idp.SetReplicationTokenRequest, ...grpc.CallOption) (*SynchronizationSetReplicationTokenOperation, error)
	ResetReplicationToken(context.Context, *idp.ResetReplicationTokenRequest, ...grpc.CallOption) (*SynchronizationResetReplicationTokenOperation, error)
	CreateSynchronizationSettings(context.Context, *idp.CreateSynchronizationSettingsRequest, ...grpc.CallOption) (*SynchronizationCreateSynchronizationSettingsOperation, error)
	UpdateSynchronizationSettings(context.Context, *idp.UpdateSynchronizationSettingsRequest, ...grpc.CallOption) (*SynchronizationUpdateSynchronizationSettingsOperation, error)
	DeleteSynchronizationSettings(context.Context, *idp.DeleteSynchronizationSettingsRequest, ...grpc.CallOption) (*SynchronizationDeleteSynchronizationSettingsOperation, error)
	GetSynchronizationSettings(context.Context, *idp.GetSynchronizationSettingsRequest, ...grpc.CallOption) (*idp.SynchronizationSettings, error)
	ListSupportedAttributes(context.Context, *idp.ListSupportedAttributesRequest, ...grpc.CallOption) (*idp.ListSupportedAttributesResponse, error)
}

var _ SynchronizationClient = synchronizationClient{}

type synchronizationClient struct {
	connector transport.Connector
}

// NewSynchronizationClient returns SynchronizationClient implementation.
func NewSynchronizationClient(connector transport.Connector) SynchronizationClient {
	return synchronizationClient{connector}
}

// SynchronizationSetReplicationTokenOperation is used to monitor the state of SetReplicationToken operations.
type SynchronizationSetReplicationTokenOperation struct {
	sdkop.Operation
}

// Metadata retrieves the operation metadata.
func (o *SynchronizationSetReplicationTokenOperation) Metadata() *idp.SetReplicationTokenMetadata {
	return o.Operation.Metadata().(*idp.SetReplicationTokenMetadata)
}

// Response retrieves the operation response.
func (o *SynchronizationSetReplicationTokenOperation) Response() *emptypb.Empty {
	return o.Operation.Response().(*emptypb.Empty)
}

// Wait polls the operation until it's done.
func (o *SynchronizationSetReplicationTokenOperation) Wait(ctx context.Context, opts ...grpc.CallOption) (*emptypb.Empty, error) {
	abstract, err := o.Operation.Wait(ctx, opts...)
	response, _ := abstract.(*emptypb.Empty)
	return response, err
}

// WaitInterval polls the operation until it's done with custom interval.
func (o *SynchronizationSetReplicationTokenOperation) WaitInterval(ctx context.Context, pollInterval sdkop.PollIntervalFunc, opts ...grpc.CallOption) (*emptypb.Empty, error) {
	abstract, err := o.Operation.WaitInterval(ctx, pollInterval, opts...)
	response, _ := abstract.(*emptypb.Empty)
	return response, err
}

// SetReplicationToken is an operation of Yandex.Cloud Idp Synchronization service.
// It returns an object which should be used to monitor the operation state.
func (c synchronizationClient) SetReplicationToken(ctx context.Context, in *idp.SetReplicationTokenRequest, opts ...grpc.CallOption) (*SynchronizationSetReplicationTokenOperation, error) {
	connection, err := c.connector.GetConnection(ctx, SynchronizationSetReplicationToken, opts...)
	if err != nil {
		return nil, err
	}
	pb, err := idp.NewSynchronizationServiceClient(connection).SetReplicationToken(ctx, in, opts...)
	if err != nil {
		return nil, err
	}
	op, err := sdkop.NewOperation(pb, &sdkop.Concretization{
		Poll:         c.pollOperation,
		MetadataType: (*idp.SetReplicationTokenMetadata)(nil),
		ResponseType: (*emptypb.Empty)(nil),
	})
	if err != nil {
		return nil, err
	}
	return &SynchronizationSetReplicationTokenOperation{*op}, nil
}

// SynchronizationResetReplicationTokenOperation is used to monitor the state of ResetReplicationToken operations.
type SynchronizationResetReplicationTokenOperation struct {
	sdkop.Operation
}

// Metadata retrieves the operation metadata.
func (o *SynchronizationResetReplicationTokenOperation) Metadata() *idp.ResetReplicationTokenMetadata {
	return o.Operation.Metadata().(*idp.ResetReplicationTokenMetadata)
}

// Response retrieves the operation response.
func (o *SynchronizationResetReplicationTokenOperation) Response() *emptypb.Empty {
	return o.Operation.Response().(*emptypb.Empty)
}

// Wait polls the operation until it's done.
func (o *SynchronizationResetReplicationTokenOperation) Wait(ctx context.Context, opts ...grpc.CallOption) (*emptypb.Empty, error) {
	abstract, err := o.Operation.Wait(ctx, opts...)
	response, _ := abstract.(*emptypb.Empty)
	return response, err
}

// WaitInterval polls the operation until it's done with custom interval.
func (o *SynchronizationResetReplicationTokenOperation) WaitInterval(ctx context.Context, pollInterval sdkop.PollIntervalFunc, opts ...grpc.CallOption) (*emptypb.Empty, error) {
	abstract, err := o.Operation.WaitInterval(ctx, pollInterval, opts...)
	response, _ := abstract.(*emptypb.Empty)
	return response, err
}

// ResetReplicationToken is an operation of Yandex.Cloud Idp Synchronization service.
// It returns an object which should be used to monitor the operation state.
func (c synchronizationClient) ResetReplicationToken(ctx context.Context, in *idp.ResetReplicationTokenRequest, opts ...grpc.CallOption) (*SynchronizationResetReplicationTokenOperation, error) {
	connection, err := c.connector.GetConnection(ctx, SynchronizationResetReplicationToken, opts...)
	if err != nil {
		return nil, err
	}
	pb, err := idp.NewSynchronizationServiceClient(connection).ResetReplicationToken(ctx, in, opts...)
	if err != nil {
		return nil, err
	}
	op, err := sdkop.NewOperation(pb, &sdkop.Concretization{
		Poll:         c.pollOperation,
		MetadataType: (*idp.ResetReplicationTokenMetadata)(nil),
		ResponseType: (*emptypb.Empty)(nil),
	})
	if err != nil {
		return nil, err
	}
	return &SynchronizationResetReplicationTokenOperation{*op}, nil
}

// SynchronizationCreateSynchronizationSettingsOperation is used to monitor the state of CreateSynchronizationSettings operations.
type SynchronizationCreateSynchronizationSettingsOperation struct {
	sdkop.Operation
}

// Metadata retrieves the operation metadata.
func (o *SynchronizationCreateSynchronizationSettingsOperation) Metadata() *idp.CreateSynchronizationSettingsMetadata {
	return o.Operation.Metadata().(*idp.CreateSynchronizationSettingsMetadata)
}

// Response retrieves the operation response.
func (o *SynchronizationCreateSynchronizationSettingsOperation) Response() *idp.SynchronizationSettings {
	return o.Operation.Response().(*idp.SynchronizationSettings)
}

// Wait polls the operation until it's done.
func (o *SynchronizationCreateSynchronizationSettingsOperation) Wait(ctx context.Context, opts ...grpc.CallOption) (*idp.SynchronizationSettings, error) {
	abstract, err := o.Operation.Wait(ctx, opts...)
	response, _ := abstract.(*idp.SynchronizationSettings)
	return response, err
}

// WaitInterval polls the operation until it's done with custom interval.
func (o *SynchronizationCreateSynchronizationSettingsOperation) WaitInterval(ctx context.Context, pollInterval sdkop.PollIntervalFunc, opts ...grpc.CallOption) (*idp.SynchronizationSettings, error) {
	abstract, err := o.Operation.WaitInterval(ctx, pollInterval, opts...)
	response, _ := abstract.(*idp.SynchronizationSettings)
	return response, err
}

// CreateSynchronizationSettings is an operation of Yandex.Cloud Idp Synchronization service.
// It returns an object which should be used to monitor the operation state.
func (c synchronizationClient) CreateSynchronizationSettings(ctx context.Context, in *idp.CreateSynchronizationSettingsRequest, opts ...grpc.CallOption) (*SynchronizationCreateSynchronizationSettingsOperation, error) {
	connection, err := c.connector.GetConnection(ctx, SynchronizationCreateSynchronizationSettings, opts...)
	if err != nil {
		return nil, err
	}
	pb, err := idp.NewSynchronizationServiceClient(connection).CreateSynchronizationSettings(ctx, in, opts...)
	if err != nil {
		return nil, err
	}
	op, err := sdkop.NewOperation(pb, &sdkop.Concretization{
		Poll:         c.pollOperation,
		MetadataType: (*idp.CreateSynchronizationSettingsMetadata)(nil),
		ResponseType: (*idp.SynchronizationSettings)(nil),
	})
	if err != nil {
		return nil, err
	}
	return &SynchronizationCreateSynchronizationSettingsOperation{*op}, nil
}

// SynchronizationUpdateSynchronizationSettingsOperation is used to monitor the state of UpdateSynchronizationSettings operations.
type SynchronizationUpdateSynchronizationSettingsOperation struct {
	sdkop.Operation
}

// Metadata retrieves the operation metadata.
func (o *SynchronizationUpdateSynchronizationSettingsOperation) Metadata() *idp.UpdateSynchronizationSettingsMetadata {
	return o.Operation.Metadata().(*idp.UpdateSynchronizationSettingsMetadata)
}

// Response retrieves the operation response.
func (o *SynchronizationUpdateSynchronizationSettingsOperation) Response() *idp.SynchronizationSettings {
	return o.Operation.Response().(*idp.SynchronizationSettings)
}

// Wait polls the operation until it's done.
func (o *SynchronizationUpdateSynchronizationSettingsOperation) Wait(ctx context.Context, opts ...grpc.CallOption) (*idp.SynchronizationSettings, error) {
	abstract, err := o.Operation.Wait(ctx, opts...)
	response, _ := abstract.(*idp.SynchronizationSettings)
	return response, err
}

// WaitInterval polls the operation until it's done with custom interval.
func (o *SynchronizationUpdateSynchronizationSettingsOperation) WaitInterval(ctx context.Context, pollInterval sdkop.PollIntervalFunc, opts ...grpc.CallOption) (*idp.SynchronizationSettings, error) {
	abstract, err := o.Operation.WaitInterval(ctx, pollInterval, opts...)
	response, _ := abstract.(*idp.SynchronizationSettings)
	return response, err
}

// UpdateSynchronizationSettings is an operation of Yandex.Cloud Idp Synchronization service.
// It returns an object which should be used to monitor the operation state.
func (c synchronizationClient) UpdateSynchronizationSettings(ctx context.Context, in *idp.UpdateSynchronizationSettingsRequest, opts ...grpc.CallOption) (*SynchronizationUpdateSynchronizationSettingsOperation, error) {
	connection, err := c.connector.GetConnection(ctx, SynchronizationUpdateSynchronizationSettings, opts...)
	if err != nil {
		return nil, err
	}
	pb, err := idp.NewSynchronizationServiceClient(connection).UpdateSynchronizationSettings(ctx, in, opts...)
	if err != nil {
		return nil, err
	}
	op, err := sdkop.NewOperation(pb, &sdkop.Concretization{
		Poll:         c.pollOperation,
		MetadataType: (*idp.UpdateSynchronizationSettingsMetadata)(nil),
		ResponseType: (*idp.SynchronizationSettings)(nil),
	})
	if err != nil {
		return nil, err
	}
	return &SynchronizationUpdateSynchronizationSettingsOperation{*op}, nil
}

// SynchronizationDeleteSynchronizationSettingsOperation is used to monitor the state of DeleteSynchronizationSettings operations.
type SynchronizationDeleteSynchronizationSettingsOperation struct {
	sdkop.Operation
}

// Metadata retrieves the operation metadata.
func (o *SynchronizationDeleteSynchronizationSettingsOperation) Metadata() *idp.DeleteSynchronizationSettingsMetadata {
	return o.Operation.Metadata().(*idp.DeleteSynchronizationSettingsMetadata)
}

// Response retrieves the operation response.
func (o *SynchronizationDeleteSynchronizationSettingsOperation) Response() *emptypb.Empty {
	return o.Operation.Response().(*emptypb.Empty)
}

// Wait polls the operation until it's done.
func (o *SynchronizationDeleteSynchronizationSettingsOperation) Wait(ctx context.Context, opts ...grpc.CallOption) (*emptypb.Empty, error) {
	abstract, err := o.Operation.Wait(ctx, opts...)
	response, _ := abstract.(*emptypb.Empty)
	return response, err
}

// WaitInterval polls the operation until it's done with custom interval.
func (o *SynchronizationDeleteSynchronizationSettingsOperation) WaitInterval(ctx context.Context, pollInterval sdkop.PollIntervalFunc, opts ...grpc.CallOption) (*emptypb.Empty, error) {
	abstract, err := o.Operation.WaitInterval(ctx, pollInterval, opts...)
	response, _ := abstract.(*emptypb.Empty)
	return response, err
}

// DeleteSynchronizationSettings is an operation of Yandex.Cloud Idp Synchronization service.
// It returns an object which should be used to monitor the operation state.
func (c synchronizationClient) DeleteSynchronizationSettings(ctx context.Context, in *idp.DeleteSynchronizationSettingsRequest, opts ...grpc.CallOption) (*SynchronizationDeleteSynchronizationSettingsOperation, error) {
	connection, err := c.connector.GetConnection(ctx, SynchronizationDeleteSynchronizationSettings, opts...)
	if err != nil {
		return nil, err
	}
	pb, err := idp.NewSynchronizationServiceClient(connection).DeleteSynchronizationSettings(ctx, in, opts...)
	if err != nil {
		return nil, err
	}
	op, err := sdkop.NewOperation(pb, &sdkop.Concretization{
		Poll:         c.pollOperation,
		MetadataType: (*idp.DeleteSynchronizationSettingsMetadata)(nil),
		ResponseType: (*emptypb.Empty)(nil),
	})
	if err != nil {
		return nil, err
	}
	return &SynchronizationDeleteSynchronizationSettingsOperation{*op}, nil
}

// GetSynchronizationSettings is an operation of Yandex.Cloud Idp Synchronization service.
func (c synchronizationClient) GetSynchronizationSettings(ctx context.Context, in *idp.GetSynchronizationSettingsRequest, opts ...grpc.CallOption) (*idp.SynchronizationSettings, error) {
	connection, err := c.connector.GetConnection(ctx, SynchronizationGetSynchronizationSettings, opts...)
	if err != nil {
		return nil, err
	}
	return idp.NewSynchronizationServiceClient(connection).GetSynchronizationSettings(ctx, in, opts...)
}

// ListSupportedAttributes is an operation of Yandex.Cloud Idp Synchronization service.
func (c synchronizationClient) ListSupportedAttributes(ctx context.Context, in *idp.ListSupportedAttributesRequest, opts ...grpc.CallOption) (*idp.ListSupportedAttributesResponse, error) {
	connection, err := c.connector.GetConnection(ctx, SynchronizationListSupportedAttributes, opts...)
	if err != nil {
		return nil, err
	}
	return idp.NewSynchronizationServiceClient(connection).ListSupportedAttributes(ctx, in, opts...)
}

// pollOperation returns the current state of the polled operation.
func (c synchronizationClient) pollOperation(ctx context.Context, operationId string, opts ...grpc.CallOption) (sdkop.YCOperation, error) {
	connection, err := c.connector.GetConnection(ctx, SynchronizationOperationPoller, opts...)
	if err != nil {
		return nil, err
	}
	return operation.NewOperationServiceClient(connection).Get(ctx, &operation.GetOperationRequest{OperationId: operationId}, opts...)
}

var (
	SynchronizationSetReplicationToken           = protoreflect.FullName("yandex.cloud.organizationmanager.v1.idp.SynchronizationService.SetReplicationToken")
	SynchronizationResetReplicationToken         = protoreflect.FullName("yandex.cloud.organizationmanager.v1.idp.SynchronizationService.ResetReplicationToken")
	SynchronizationCreateSynchronizationSettings = protoreflect.FullName("yandex.cloud.organizationmanager.v1.idp.SynchronizationService.CreateSynchronizationSettings")
	SynchronizationUpdateSynchronizationSettings = protoreflect.FullName("yandex.cloud.organizationmanager.v1.idp.SynchronizationService.UpdateSynchronizationSettings")
	SynchronizationDeleteSynchronizationSettings = protoreflect.FullName("yandex.cloud.organizationmanager.v1.idp.SynchronizationService.DeleteSynchronizationSettings")
	SynchronizationGetSynchronizationSettings    = protoreflect.FullName("yandex.cloud.organizationmanager.v1.idp.SynchronizationService.GetSynchronizationSettings")
	SynchronizationListSupportedAttributes       = protoreflect.FullName("yandex.cloud.organizationmanager.v1.idp.SynchronizationService.ListSupportedAttributes")
	SynchronizationOperationPoller               = protoreflect.FullName("yandex.cloud.operation.OperationService.Get")
)
